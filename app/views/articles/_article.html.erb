<style>
    .single-article {
        max-width: 700px;
        justify-self: center;

        .article-heading {
            font-size: 2em;
            margin-bottom: 15px;
        }
    }
</style>

<% if article.hidden %>
    <% return %>
<% end %>

<% content_for :head do %>
    <%= tag.meta property: "og:image", content: "https://pixelwave.blog#{url_for(article.image)}" %>
    <%= tag.meta name: "title", content: article.title %>
    <%= tag.meta name: "description", content: truncate(article.excerpt, length: 150) %>
<% end %>

<script src="https://lds-img.finalfantasyxiv.com/pc/global/js/eorzeadb/loader.js?v3"></script>

<div id="<%= dom_id article %>" class="ff-article single-article">

    <h1 class="article-heading">
        <%= link_to "#{article.title}", article %>
    </h1>

    <% if article.image.attached? %>
        <div class="image-box">
            <%= image_tag(article.image, :class => "top-image", alt: article.image_caption || article.title || "Article image") %>
            <h6 class="caption"><%= fa_icon "camera-retro" %><%= article.image_caption %></h6>
        </div>
    <% end %>

    <div class="columns">
        <div class="date-field">
            <%= link_to "#{article.created_at.strftime("%d-%m-%y")}", "date/?current=#{article.created_at.to_date}" %>
        </div>

        <div class="author-box">
            <% if article.author.avatar.attached? %>
                <div class="">
                    <%= image_tag(article.author.avatar, :class => "author-image", :alt => "#{article.author.name}", :style=>"width:50px; height: 50px") %>
                </div>
            <% end %>
            <%= link_to "#{article.author.name}", article.author %>
        </div>
    </div>

    <%= raw article.body %>

    <div class="article-excerpt">
        <%= article.excerpt %>
    </div>
</div>